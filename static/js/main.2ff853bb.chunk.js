(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{24:function(e,t,c){},25:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(2),s=c.n(n),r=c(12),o=c.n(r),i=c(13),j=c(11),O=c(3),d=function(){for(var e=Math.floor(96*Math.random()),t=Math.floor(96*Math.random());e%4!==0;)e=Math.floor(96*Math.random());for(;t%4!==0;)t=Math.floor(96*Math.random());return[e,t]},u={direction:"RIGHT",snakeDotsPos:[[8,48],[12,48],[16,48]],food:d(),loss:!1,currentScore:0,highestScore:0,speed:140};var b=function(e,t){switch(t.type){case"CHANGE_DIRECTION":return Object(O.a)(Object(O.a)({},e),{},{direction:void 0===t.payload?"":t.payload});case"MOVE_SNAKE":return Object(O.a)(Object(O.a)({},e),{},{snakeDotsPos:void 0===t.snakeDots?[[0,0],[4,0],[8,0]]:t.snakeDots});case"RENDER_FOOD":return Object(O.a)(Object(O.a)({},e),{},{food:d()});case"SET_LOSS":return Object(O.a)(Object(O.a)({},e),{},{loss:void 0!==t.lossPayload&&t.lossPayload});case"ADD_SCORE":return Object(O.a)(Object(O.a)({},e),{},{currentScore:e.currentScore+100});case"SET_HIGHEST_SCORE":return Object(O.a)(Object(O.a)({},e),{},{highestScore:e.currentScore});case"SET_SPEED":return Object(O.a)(Object(O.a)({},e),{},{speed:e.speed-10});case"RESET_GAME":return Object(O.a)(Object(O.a)({},u),{},{loss:!1,highestScore:e.highestScore});default:return Object(O.a)({},e)}},l=Object(n.createContext)(u),h=function(e){var t=e.children;return Object(a.jsx)("div",{className:"app",children:t})},E=c(4),f=c(5),p=function(){var e=Object(n.useContext)(l).food;return Object(a.jsx)("div",{className:"food",style:{left:"".concat(e[0],"%"),top:"".concat(e[1],"%")},children:Object(a.jsx)(E.a,{icon:f.a})})},S=function(e){var t=e.dot;return Object(a.jsx)("div",{className:"dot",style:{left:"".concat(t[0],"%"),top:"".concat(t[1],"%")}})},x=function(){var e=Object(n.useContext)(l).snakeDotsPos;return Object(a.jsx)(a.Fragment,{children:void 0!==e&&e.map((function(e,t){return Object(a.jsx)(S,{dot:e},"".concat(e[0]).concat(e[1]).concat(t))}))})},v=function(e){var t=e.children;return Object(a.jsx)("div",{className:"box",children:t})},y=function(){var e=Object(n.useContext)(l).currentScore;return Object(a.jsxs)("div",{className:"score",children:[Object(a.jsx)(E.a,{icon:f.a}),e]})},N=(c(24),function(e){var t=e.dispatch,c=Object(n.useContext)(l),s=c.currentScore,r=c.highestScore;return Object(a.jsxs)("div",{className:"start-screen",children:[Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsxs)("div",{className:"current-score",children:[Object(a.jsx)(E.a,{icon:f.a})," ",s]}),Object(a.jsxs)("div",{className:"highest-score",children:[Object(a.jsx)(E.a,{icon:f.c})," ",r]})]}),Object(a.jsxs)("button",{className:"play",onClick:function(){t({type:"RESET_GAME"})},children:[Object(a.jsx)(E.a,{icon:f.b}),"Zagraj"]})]})}),D=function(){var e=function(e,t,c,a,n,s){var r=Object(j.a)(t),i=r[r.length-1],O=r[0];switch(e){case"RIGHT":i=[i[0]+4,i[1]];break;case"LEFT":i=[i[0]-4,i[1]];break;case"UP":i=[i[0],i[1]-4];break;case"DOWN":i=[i[0],i[1]+4]}r.push(i),r.shift(),i[0]===c[0]&&i[1]===c[1]&&(!function(e,t,c,a){o({type:"ADD_SCORE"}),60!==a&&(e.length+1)%5===0&&o({type:"SET_SPEED"}),t>=c&&o({type:"SET_HIGHEST_SCORE"})}(r,a,n,s),o({type:"RENDER_FOOD"}),r.unshift(O)),function(e){var t=Object(j.a)(e),c=t[t.length-1],a=c[0]>96||c[0]<0||c[1]>96||c[1]<0;(t.slice(0,t.length-1).filter((function(e){return e[0]===c[0]&&e[1]===c[1]})).length||a)&&o({type:"SET_LOSS",lossPayload:!0})}(t),o({type:"MOVE_SNAKE",snakeDots:r})},t=function(e){switch(e.keyCode){case 37:"RIGHT"!==r.direction&&(o({type:"CHANGE_DIRECTION",payload:"LEFT"}),console.log(e));break;case 38:"DOWN"!==r.direction&&o({type:"CHANGE_DIRECTION",payload:"UP"});break;case 39:"LEFT"!==r.direction&&o({type:"CHANGE_DIRECTION",payload:"RIGHT"});break;case 40:"UP"!==r.direction&&o({type:"CHANGE_DIRECTION",payload:"DOWN"})}},c=Object(n.useReducer)(b,u),s=Object(i.a)(c,2),r=s[0],o=s[1],O=r.direction,d=r.snakeDotsPos,E=r.food,f=r.loss,S=r.currentScore,D=r.highestScore,T=r.speed;return Object(n.useEffect)((function(){var t=setTimeout((function(){return e(O,d,E,S,D,T)}),T);f&&clearTimeout(t)}),[d]),Object(n.useEffect)((function(){document.onkeydown=t})),Object(a.jsx)(l.Provider,{value:r,children:Object(a.jsxs)(h,{children:[Object(a.jsx)(y,{}),Object(a.jsxs)(v,{children:[f&&Object(a.jsx)(N,{dispatch:o}),Object(a.jsx)(x,{}),Object(a.jsx)(p,{})]})]})})};o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(D,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.2ff853bb.chunk.js.map